const SynactJSCore=(()=>{let e=null;const t=new Map,n=new Map;let o=0;const r=new WeakMap;function s(e,t={},...n){return{__type:e,props:t,children:n.flat(),key:t?.key??null}}function a(e,t="",n=0){if("string"==typeof e||"number"==typeof e)return document.createTextNode(String(e));if("boolean"==typeof e)return document.createTextNode("");if(!e||"object"!=typeof e||!e.__type)throw new Error("Invalid vnode: "+JSON.stringify(e));if("function"==typeof e.__type)throw new Error("createElement should not be called with functional components.");const o=document.createElement(e.__type);i(o,e.props||{});const r=l(e,t,n);for(let t=0;t<(e.children||[]).length;t++){const n=e.children[t];o.appendChild(a(c(n,o,t,r),r,t))}return o}function c(e,t,n,o=""){for(;e&&"function"==typeof e.__type;){const r=l(e,o,n);e=u(e,t,n,o),o=r}return e}function i(e,t){for(const n in t)n.startsWith("on")?e[n.toLowerCase()]=t[n]:e.setAttribute(n,t[n])}function d(e,t,n){if(!e||!t||!n)return;const o=new Set([...Object.keys(t),...Object.keys(n)]);for(const r of o){const o=t[r];o!==n[r]&&("value"!==r?"checked"!==r?r.startsWith("on")?e[r.toLowerCase()]=o||null:null==o?e.removeAttribute(r):(console.log(`[SynactJS] Setting prop ${r} to ${o} on element`,e),e.setAttribute(r,o)):e.checked=Boolean(o):e.value=o||"")}}function l(e,t,n){let o="Unknown";"function"==typeof e?.__type?o=e.__type.name||"Anon":"string"==typeof e?.__type&&(o=e.__type);return`${t}/${o}:${e?.key??n}`}function u(n,o,r,s=""){const a=l(n,s,r);let c=t.get(a);const i=e;c||(c={hooks:[],hookIndex:0,effects:[],vnode:n,parent:o,index:r,render:null,renderedVNode:null},t.set(a,c),c.render=()=>{c.hookIndex=0,c.effects=[],e=c;const t=c.vnode.__type(c.vnode.props),n=l(c.vnode,s,c.index);p(c.parent,t,c.renderedVNode,c.index,n),c.renderedVNode=t,e=null,c.effects.forEach(e=>e())}),e=c,c.hookIndex=0,c.effects=[],c.vnode=n,c.parent=o,c.index=r;const d=n.__type(n.props);return c.renderedVNode=d,e=i,c.effects.forEach(e=>e()),c.renderedVNode}function p(e,n,o,r=0,s=""){const i=e.childNodes[r],h=l(n,s,r);if(function(e){for(const[n,o]of t.entries())n.startsWith(e)&&(f(o),t.delete(n))}(h),!n)return void(i&&e.removeChild(i));if("function"==typeof n?.__type){const a=u(n,e,r,s),c=t.get(l(o,s,r)),i=c?.renderedVNode;return void p(e,a,i,r,s)}if(typeof n!=typeof o||n?.__type!==o?.__type||JSON.stringify({...n.props,value:void 0})!==JSON.stringify({...o.props,value:void 0})){const t=a(c(n,e,r,s),s,r);return void(i?e.replaceChild(t,i):e.appendChild(t))}d(i,n?.props||{},o?.props||{});const m=n?.children||[],y=o?.children||[];if(!("string"!=typeof n&&"number"!=typeof n||"string"!=typeof o&&"number"!=typeof o)){const e=String(n);return void(i.textContent!==e&&(i.textContent=e))}for(;i.childNodes.length>m.length;)i.removeChild(i.lastChild);const v=Math.max(m.length,y.length);for(let e=0;e<v;e++)p(i,m[e],y[e],e,h)}function h(t){const n=e,o=n.hookIndex++;let r=!1;return n.hooks[o]||(n.hooks[o]={value:t,set:e=>{n.hooks[o].value=e,r||(r=!0,queueMicrotask(()=>{r=!1,n.render&&n.render()}))}}),[n.hooks[o].value,n.hooks[o].set]}function f(e){if(e&&Array.isArray(e.hooks))for(const t of e.hooks)t&&"function"==typeof t.cleanup&&t.cleanup()}function m(t,n){const o=e,r=o.hookIndex++,s=o.hooks[r];!s||!n||n.some((e,t)=>!Object.is(e,s.deps?.[t]))?(s&&s.cleanup,o.hooks[r]={deps:n},o.effects.push(()=>{const e=t();"function"==typeof e&&(o.hooks[r].cleanup=e)})):o.hooks[r]=s}function y(t,n){n.__SynactJSCtx||(n.__SynactJSCtx={hooks:[],hookIndex:0,effects:[],vnode:null,render:null,renderedVNode:null,parent:n,index:0,render:null,hooks:[],effects:[]});const s=n.__SynactJSCtx;s.render=()=>{s.hookIndex=0,s.effects=[],e=s;const a=t();p(n,a,s.vnode,0,function(e){return r.has(e)||r.set(e,"/Mount"+o++),r.get(e)}(n)),s.vnode=a,e=null,s.effects.forEach(e=>e())},s.render()}function v(e=""){const[t,n]=h(()=>{const t=window.location.pathname;return e&&t.startsWith(e)?t.slice(e.length)||"/":t});m(()=>{const t=()=>{const t=window.location.pathname;n(e&&t.startsWith(e)?t.slice(e.length)||"/":t)};window.addEventListener("popstate",t);const o=t=>{const o=t.target.closest("a");if(o&&o.href&&!t.defaultPrevented&&0===t.button&&!t.metaKey&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&o.origin===location.origin){let r=o.pathname;e&&r.startsWith(e)&&(r=r.slice(e.length)||"/"),t.preventDefault(),history.pushState({},"",e+r),n(r)}};return window.addEventListener("click",o),()=>{window.removeEventListener("popstate",t),window.removeEventListener("click",o)}},[e]);return[t,o=>{o.startsWith("/")||(o="/"+o),e&&o.startsWith(e)&&(o=o.slice(e.length)||"/"),o!==t&&(history.pushState({},"",e+o),n(o))}]}function b(e){return e.children}const g=e=>(t,...n)=>s(e,t,...n),S=g("div"),x=g("h1"),k=g("h2"),w=g("h3"),C=g("h4"),_=g("h5"),E=g("p"),J=g("button"),M=g("strong"),A=g("span"),N=g("ul"),P=g("li"),V=g("input"),R=g("form"),O=g("label"),I=g("a"),L=g("nav"),W=g("hr"),j=g("i"),F=g("section"),$=g("pre"),K=g("code"),q=g("img"),D=g("table"),T=g("thead"),B=g("tbody"),U=g("tr"),z=g("td"),G=g("th"),H=g("footer"),Q=g("header"),X=g("main"),Y=g("textarea"),Z=g("select"),ee=g("option"),te=g("svg"),ne=g("br"),oe=g("small"),re=g("ol"),se=g("dl"),ae=g("dt"),ce=g("dd"),ie=g("fieldset");return{h:s,useState:h,useEffect:m,useContext:function(e){return n.has(e.id)?n.get(e.id):e.defaultValue},useMemo:function(t,n){const o=e,r=o.hookIndex++;let s=o.hooks[r];if(!s||!n||n.some((e,t)=>!Object.is(e,s.deps?.[t]))){const e=t();return o.hooks[r]={value:e,deps:n},e}return s.value},useCallback:function(t,n){const o=e,r=o.hookIndex++;let s=o.hooks[r];return s&&n&&!n.some((e,t)=>!Object.is(e,s.deps?.[t]))?"function"==typeof s.value?s.value:t:(o.hooks[r]={value:t,deps:n},t)},createContext:function(e){const t=Symbol("context");return{id:t,defaultValue:e,Provider:({value:e,children:o})=>(n.set(t,e),Array.isArray(o)?s(b,{},...o):o)}},renderApp:y,RouteView:function({routes:e,prefix:t=""}){const[n]=v(t),o=e[n]||e["*"];return S({},o?o():null)},Fragment:b,contextMap:t,mountComponents:function(){document.querySelectorAll("[data-component]").forEach(e=>{const t=e.getAttribute("data-component")?.trim(),n=window.SynactJS.components.find(e=>e.name===t)||window[t];let o={};const r=e.getAttribute("data-prop");if(r)try{o=JSON.parse(r)}catch(e){console.warn(`[SynactJS] Invalid JSON in data - prop for component ${t}: `,e)}"function"==typeof n&&y(()=>s(n,o),e)})},useRouter:v,div:S,h1:x,h2:k,h3:w,h4:C,h5:_,p:E,button:J,strong:M,span:A,ul:N,li:P,input:V,form:R,label:O,a:I,nav:L,hr:W,i:j,section:F,pre:$,code:K,img:q,table:D,thead:T,tbody:B,tr:U,td:z,th:G,footer:H,header:Q,main:X,textarea:Y,select:Z,option:ee,svg:te,br:ne,small:oe,ol:re,dl:se,dt:ae,dd:ce,fieldset:ie,createElement:a,setProps:i,updateProps:d,patch:p}})(),{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,contextMap:contextMap,mountComponents:mountComponents,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,hr:hr,i:i,section:section,pre:pre,code:code,img:img,table:table,thead:thead,tbody:tbody,tr:tr,td:td,th:th,footer:footer,header:header,main:main,textarea:textarea,select:select,option:option,svg:svg,br:br,small:small,ol:ol,dl:dl,dt:dt,dd:dd,fieldset:fieldset,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch}=SynactJSCore,SynactJS={components:[],register:function(e){console.log(`[SynactJS] Registering component: ${e.name} `),this.components.push(e),mountComponents()}};"undefined"!=typeof window&&(Object.assign(window,{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,hr:hr,i:i,section:section,pre:pre,code:code,img:img,table:table,thead:thead,tbody:tbody,tr:tr,td:td,th:th,footer:footer,header:header,main:main,textarea:textarea,select:select,option:option,svg:svg,br:br,small:small,ol:ol,dl:dl,dt:dt,dd:dd,fieldset:fieldset,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS}),window.SynactJS=SynactJS,Object.assign(window,{SynactJS:SynactJS}),document.addEventListener("DOMContentLoaded",()=>{mountComponents()}),window.addEventListener("beforeunload",()=>{for(const e of contextMap.values())cleanupEffects(e);contextMap.clear()})),"undefined"!=typeof module&&module.exports&&(module.exports={h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS});