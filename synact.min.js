const SynactJSCore=(()=>{let e=null;const t=new Map,n=new Map;let o=0;const r=new WeakMap;function s(e,t={},...n){return{__type:e,props:t,children:n.flat(),key:t?.key??null}}function a(e,t="",n=0){if("string"==typeof e||"number"==typeof e)return document.createTextNode(String(e));if(!e||"object"!=typeof e||!e.__type)throw new Error("Invalid vnode: "+JSON.stringify(e));if("function"==typeof e.__type)throw new Error("createElement should not be called with functional components.");const o=document.createElement(e.__type);u(o,e.props||{});const r=p(e,t,n);for(let t=0;t<(e.children||[]).length;t++){const n=e.children[t];o.appendChild(a(c(n,o,t,r),r,t))}return o}function c(e,t,n,o=""){for(;e&&"function"==typeof e.__type;){const r=p(e,o,n);e=d(e,t,n,o),o=r}return e}function u(e,t){for(const n in t)n.startsWith("on")?e[n.toLowerCase()]=t[n]:e.setAttribute(n,t[n])}function i(e,t,n){const o=new Set([...Object.keys(t),...Object.keys(n)]);for(const r of o){const o=t[r];o!==n[r]&&(r.startsWith("on")?e[r.toLowerCase()]=o||null:null==o?e.removeAttribute(r):e.setAttribute(r,o))}}function p(e,t,n){let o="Unknown";"function"==typeof e?.__type?o=e.__type.name||"Anon":"string"==typeof e?.__type&&(o=e.__type);return`${t}/${o}:${e?.key??n}`}function d(n,o,r,s=""){const a=p(n,s,r);let c=t.get(a);const u=e;c||(c={hooks:[],hookIndex:0,effects:[],vnode:n,parent:o,index:r,render:null,renderedVNode:null},t.set(a,c),c.render=()=>{c.hookIndex=0,c.effects=[],e=c;const t=c.vnode.__type(c.vnode.props),n=p(c.vnode,s,c.index);l(c.parent,t,c.renderedVNode,c.index,n),c.renderedVNode=t,e=null,c.effects.forEach(e=>e())}),e=c,c.hookIndex=0,c.effects=[],c.vnode=n,c.parent=o,c.index=r;const i=n.__type(n.props);return c.renderedVNode=i,e=u,c.effects.forEach(e=>e()),c.renderedVNode}function l(e,n,o,r=0,s=""){const u=e.childNodes[r],f=p(n,s,r);if(function(e){for(const[n,o]of t.entries())n.startsWith(e)&&(h(o),t.delete(n))}(f),!n)return void(u&&e.removeChild(u));if("function"==typeof n?.__type){const a=d(n,e,r,s),c=t.get(p(o,s,r)),u=c?.renderedVNode;return void l(e,a,u,r,s)}if(typeof n!=typeof o||n!==o||n?.__type!==o?.__type||JSON.stringify(n?.props||{})!==JSON.stringify(o?.props||{})){const t=a(c(n,e,r,s),s,r);return void(u?e.replaceChild(t,u):e.appendChild(t))}if(!("string"!=typeof n&&"number"!=typeof n||"string"!=typeof o&&"number"!=typeof o)){const e=String(n);return void(u.textContent!==e&&(u.textContent=e))}i(u,n.props||{},o.props||{});const m=n.children||[],y=o.children||[];for(;u.childNodes.length>m.length;)u.removeChild(u.lastChild);const v=Math.max(m.length,y.length);for(let e=0;e<v;e++)l(u,m[e],y[e],e,f)}function f(t){const n=e,o=n.hookIndex++;return n.hooks[o]||(n.hooks[o]={value:t,set:e=>{n.hooks[o].value=e,n.render&&n.render()}}),[n.hooks[o].value,n.hooks[o].set]}function h(e){if(e&&Array.isArray(e.hooks))for(const t of e.hooks)t&&"function"==typeof t.cleanup&&t.cleanup()}function m(t,n){const o=e,r=o.hookIndex++,s=o.hooks[r];!s||!n||n.some((e,t)=>!Object.is(e,s.deps?.[t]))?(s&&s.cleanup,o.hooks[r]={deps:n},o.effects.push(()=>{const e=t();"function"==typeof e&&(o.hooks[r].cleanup=e)})):o.hooks[r]=s}function y(t,n){n.__SynactJSCtx||(n.__SynactJSCtx={hooks:[],hookIndex:0,effects:[],vnode:null,render:null,renderedVNode:null,parent:n,index:0,render:null,hooks:[],effects:[]});const s=n.__SynactJSCtx;s.render=()=>{s.hookIndex=0,s.effects=[],e=s;const a=t();l(n,a,s.vnode,0,function(e){return r.has(e)||r.set(e,"/Mount"+o++),r.get(e)}(n)),s.vnode=a,e=null,s.effects.forEach(e=>e())},s.render()}function v(){const[e,t]=f(window.location.pathname);m(()=>{const e=()=>t(window.location.pathname);window.addEventListener("popstate",e);const n=e=>{const n=e.target.closest("a");if(n&&n.href&&!e.defaultPrevented&&0===e.button&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&n.origin===location.origin){e.preventDefault();const o=n.pathname;history.pushState({},"",o),t(o)}};return window.addEventListener("click",n),()=>{window.removeEventListener("popstate",e),window.removeEventListener("click",n)}},[e]);return[e,n=>{n!==e&&(history.pushState({},"",n),t(n))}]}function S(e){return e.children}const b=e=>(t,...n)=>s(e,t,...n),g=b("div"),w=b("h1"),x=b("h2"),k=b("h3"),C=b("h4"),_=b("h5"),E=b("p"),J=b("button"),A=b("strong"),M=b("span"),P=b("ul"),V=b("li"),N=b("input"),R=b("form"),O=b("label"),I=b("a"),L=b("nav"),j=b("hr"),F=b("i"),$=b("section"),K=b("pre"),W=b("code"),D=b("img"),q=b("table"),T=b("thead"),U=b("tbody"),z=b("tr"),B=b("td"),G=b("th"),H=b("footer"),Q=b("header"),X=b("main"),Y=b("textarea"),Z=b("select"),ee=b("option"),te=b("svg"),ne=b("br"),oe=b("small"),re=b("ol"),se=b("dl"),ae=b("dt"),ce=b("dd"),ue=b("fieldset");return{h:s,useState:f,useEffect:m,useContext:function(e){return n.has(e.id)?n.get(e.id):e.defaultValue},useMemo:function(t,n){const o=e,r=o.hookIndex++;let s=o.hooks[r];if(!s||!n||n.some((e,t)=>!Object.is(e,s.deps?.[t]))){const e=t();return o.hooks[r]={value:e,deps:n},e}return s.value},useCallback:function(t,n){const o=e,r=o.hookIndex++;let s=o.hooks[r];return s&&n&&!n.some((e,t)=>!Object.is(e,s.deps?.[t]))?"function"==typeof s.value?s.value:t:(o.hooks[r]={value:t,deps:n},t)},createContext:function(e){const t=Symbol("context");return{id:t,defaultValue:e,Provider:({value:e,children:o})=>(n.set(t,e),Array.isArray(o)?s(S,{},...o):o)}},renderApp:y,RouteView:function({routes:e}){const[t]=v(),n=e[t]||e["*"];return g({},n?n():null)},Fragment:S,contextMap:t,mountComponents:function(){document.querySelectorAll("[data-component]").forEach(e=>{const t=e.getAttribute("data-component")?.trim(),n=window.SynactJS.components.find(e=>e.name===t)||window[t];let o={};const r=e.getAttribute("data-prop");if(r)try{o=JSON.parse(r)}catch(e){console.warn(`[SynactJS] Invalid JSON in data-prop for component ${t}:`,e)}"function"==typeof n&&y(()=>s(n,o),e)})},useRouter:v,div:g,h1:w,h2:x,h3:k,h4:C,h5:_,p:E,button:J,strong:A,span:M,ul:P,li:V,input:N,form:R,label:O,a:I,nav:L,hr:j,i:F,section:$,pre:K,code:W,img:D,table:q,thead:T,tbody:U,tr:z,td:B,th:G,footer:H,header:Q,main:X,textarea:Y,select:Z,option:ee,svg:te,br:ne,small:oe,ol:re,dl:se,dt:ae,dd:ce,fieldset:ue,createElement:a,setProps:u,updateProps:i,patch:l}})(),{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,contextMap:contextMap,mountComponents:mountComponents,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch}=SynactJSCore,SynactJS={components:[],register:function(e){console.log(`[SynactJS] Registering component: ${e.name}`),this.components.push(e),mountComponents()}};"undefined"!=typeof window&&(Object.assign(window,{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS}),window.SynactJS=SynactJS,Object.assign(window,{SynactJS:SynactJS}),document.addEventListener("DOMContentLoaded",()=>{mountComponents()}),window.addEventListener("beforeunload",()=>{for(const e of contextMap.values())cleanupEffects(e);contextMap.clear()})),"undefined"!=typeof module&&module.exports&&(module.exports={h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS});