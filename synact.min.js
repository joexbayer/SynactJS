const SynactJSCore=(()=>{let e=null;const t=new Map,o=new Map;let n=0;const r=new WeakMap;function s(e,t={},...o){return{__type:e,props:t,children:o.flat(),key:t?.key??null}}function a(e,t="",o=0){if("string"==typeof e||"number"==typeof e)return document.createTextNode(String(e));if("boolean"==typeof e)return document.createTextNode("");if(!e||"object"!=typeof e||!e.__type)throw new Error("Invalid vnode: "+JSON.stringify(e));if("function"==typeof e.__type)throw new Error("createElement should not be called with functional components.");const n=document.createElement(e.__type);c(n,e.props||{});const r=u(e,t,o);for(let t=0;t<(e.children||[]).length;t++){const o=e.children[t];n.appendChild(a(i(o,n,t,r),r,t))}return n}function i(e,t,o,n=""){for(;e&&"function"==typeof e.__type;){const r=u(e,n,o);e=l(e,t,o,n),n=r}return e}function c(e,t){for(const o in t)o.startsWith("on")?e[o.toLowerCase()]=t[o]:e.setAttribute(o,t[o])}function d(e,t,o){if(!e||!t||!o)return;const n=new Set([...Object.keys(t),...Object.keys(o)]);for(const r of n){const n=t[r];n!==o[r]&&("value"!==r?"checked"!==r?r.startsWith("on")?e[r.toLowerCase()]=n||null:null==n?e.removeAttribute(r):e.setAttribute(r,n):e.checked=Boolean(n):e.value=n||"")}}function u(e,t,o){let n="Unknown";"function"==typeof e?.__type?n=e.__type.name||"Anon":"string"==typeof e?.__type&&(n=e.__type);return`${t}/${n}:${e?.key??o}`}function l(o,n,r,s=""){const a=u(o,s,r);let i=t.get(a);const c=e;i||(i={hooks:[],hookIndex:0,effects:[],vnode:o,parent:n,index:r,render:null,renderedVNode:null},t.set(a,i),i.render=()=>{i.hookIndex=0,i.effects=[],e=i;const t=i.vnode.__type(i.vnode.props),o=u(i.vnode,s,i.index);p(i.parent,t,i.renderedVNode,i.index,o),i.renderedVNode=t,e=null,i.effects.forEach(e=>e())}),e=i,i.hookIndex=0,i.effects=[],i.vnode=o,i.parent=n,i.index=r;const d=o.__type(o.props);return i.renderedVNode=d,e=c,i.effects.forEach(e=>e()),i.renderedVNode}function p(e,o,n,r=0,s=""){const c=e.childNodes[r],h=u(o,s,r);if(function(e){for(const[o,n]of t.entries())o.startsWith(e)&&(f(n),t.delete(o))}(h),!o)return void(c&&e.removeChild(c));if("function"==typeof o?.__type){const a=l(o,e,r,s),i=t.get(u(n,s,r)),c=i?.renderedVNode;return void p(e,a,c,r,s)}if(typeof o!=typeof n||o?.__type!==n?.__type||JSON.stringify({...o.props,value:void 0})!==JSON.stringify({...n.props,value:void 0})){const t=a(i(o,e,r,s),s,r);return void(c?e.replaceChild(t,c):e.appendChild(t))}d(c,o?.props||{},n?.props||{});const m=o?.children||[],y=n?.children||[];if(!("string"!=typeof o&&"number"!=typeof o||"string"!=typeof n&&"number"!=typeof n)){const e=String(o);return void(c.textContent!==e&&(c.textContent=e))}for(;c.childNodes.length>m.length;)c.removeChild(c.lastChild);const b=Math.max(m.length,y.length);for(let e=0;e<b;e++)p(c,m[e],y[e],e,h)}function h(t){const o=e,n=o.hookIndex++;let r=!1;return o.hooks[n]||(o.hooks[n]={value:t,set:e=>{o.hooks[n].value=e,r||(r=!0,queueMicrotask(()=>{r=!1,o.render&&o.render()}))}}),[o.hooks[n].value,o.hooks[n].set]}function f(e){if(e&&Array.isArray(e.hooks))for(const t of e.hooks)t&&"function"==typeof t.cleanup&&t.cleanup()}function m(t,o){const n=e,r=n.hookIndex++,s=n.hooks[r];!s||!o||o.some((e,t)=>!Object.is(e,s.deps?.[t]))?(s&&s.cleanup,n.hooks[r]={deps:o},n.effects.push(()=>{const e=t();"function"==typeof e&&(n.hooks[r].cleanup=e)})):n.hooks[r]=s}function y(t,o){o.__SynactJSCtx||(o.__SynactJSCtx={hooks:[],hookIndex:0,effects:[],vnode:null,render:null,renderedVNode:null,parent:o,index:0,render:null,hooks:[],effects:[]});const s=o.__SynactJSCtx;s.render=()=>{s.hookIndex=0,s.effects=[],e=s;const a=t();p(o,a,s.vnode,0,function(e){return r.has(e)||r.set(e,"/Mount"+n++),r.get(e)}(o)),s.vnode=a,e=null,s.effects.forEach(e=>e())},s.render()}function b(e=""){const t=window.location.pathname,[o,n]=h(e&&t.startsWith(e)?t.slice(e.length)||"/":t);m(()=>{const t=()=>{const t=window.location.pathname;n(e&&t.startsWith(e)?t.slice(e.length)||"/":t)};window.addEventListener("popstate",t);const o=t=>{const o=t.target.closest("a");if(o&&o.href&&!t.defaultPrevented&&0===t.button&&!t.metaKey&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&o.origin===location.origin){let r=o.pathname;e&&r.startsWith(e)&&(r=r.slice(e.length)||"/"),t.preventDefault(),history.pushState({},"",e+r),n(r)}};return window.addEventListener("click",o),()=>{window.removeEventListener("popstate",t),window.removeEventListener("click",o)}},[e]);return[o,t=>{t.startsWith("/")||(t="/"+t),e&&t.startsWith(e)&&(t=t.slice(e.length)||"/"),t!==o&&(history.pushState({},"",e+t),n(t))}]}function v(e){return e.children}const g=e=>(t,...o)=>s(e,t,...o),S=g("div"),x=g("h1"),w=g("h2"),k=g("h3"),C=g("h4"),_=g("h5"),E=g("p"),J=g("button"),A=g("strong"),M=g("span"),N=g("ul"),P=g("li"),O=g("input"),R=g("form"),V=g("label"),I=g("a"),L=g("nav"),j=g("hr"),F=g("i"),W=g("section"),$=g("pre"),K=g("code"),T=g("img"),q=g("table"),D=g("thead"),B=g("tbody"),H=g("tr"),U=g("td"),z=g("th"),G=g("footer"),Q=g("header"),X=g("main"),Y=g("textarea"),Z=g("select"),ee=g("option"),te=g("svg"),oe=g("br"),ne=g("small"),re=g("ol"),se=g("dl"),ae=g("dt"),ie=g("dd"),ce=g("fieldset");return{h:s,useState:h,useEffect:m,useContext:function(e){return o.has(e.id)?o.get(e.id):e.defaultValue},useMemo:function(t,o){const n=e,r=n.hookIndex++;let s=n.hooks[r];if(!s||!o||o.some((e,t)=>!Object.is(e,s.deps?.[t]))){const e=t();return n.hooks[r]={value:e,deps:o},e}return s.value},useCallback:function(t,o){const n=e,r=n.hookIndex++;let s=n.hooks[r];return s&&o&&!o.some((e,t)=>!Object.is(e,s.deps?.[t]))?"function"==typeof s.value?s.value:t:(n.hooks[r]={value:t,deps:o},t)},createContext:function(e){const t=Symbol("context");return{id:t,defaultValue:e,Provider:({value:e,children:n})=>(o.set(t,e),Array.isArray(n)?s(v,{},...n):n)}},renderApp:y,RouteView:function({routes:e,prefix:t=""}){const[o]=b(t),n=e[o]||e["*"];return S({},n?n():null)},Fragment:v,contextMap:t,mountComponents:function(){document.querySelectorAll("[data-component]").forEach(e=>{const t=e.getAttribute("data-component")?.trim(),o=window.SynactJS.components.find(e=>e.name===t)||window[t];let n={};const r=e.getAttribute("data-prop");if(r)try{n=JSON.parse(r)}catch(e){console.warn(`[SynactJS] Invalid JSON in data - prop for component ${t}: `,e)}"function"==typeof o&&y(()=>s(o,n),e)})},useRouter:b,div:S,h1:x,h2:w,h3:k,h4:C,h5:_,p:E,button:J,strong:A,span:M,ul:N,li:P,input:O,form:R,label:V,a:I,nav:L,hr:j,i:F,section:W,pre:$,code:K,img:T,table:q,thead:D,tbody:B,tr:H,td:U,th:z,footer:G,header:Q,main:X,textarea:Y,select:Z,option:ee,svg:te,br:oe,small:ne,ol:re,dl:se,dt:ae,dd:ie,fieldset:ce,createElement:a,setProps:c,updateProps:d,patch:p}})(),{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,contextMap:contextMap,mountComponents:mountComponents,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,hr:hr,i:i,section:section,pre:pre,code:code,img:img,table:table,thead:thead,tbody:tbody,tr:tr,td:td,th:th,footer:footer,header:header,main:main,textarea:textarea,select:select,option:option,svg:svg,br:br,small:small,ol:ol,dl:dl,dt:dt,dd:dd,fieldset:fieldset,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch}=SynactJSCore,SynactJS={components:[],register:function(e){console.log(`[SynactJS] Registering component: ${e.name} `),this.components.push(e),mountComponents()}};if("undefined"!=typeof window){function tryJSON(e){try{return JSON.parse(e)}catch{return e}}Object.assign(window,{h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,hr:hr,i:i,section:section,pre:pre,code:code,img:img,table:table,thead:thead,tbody:tbody,tr:tr,td:td,th:th,footer:footer,header:header,main:main,textarea:textarea,select:select,option:option,svg:svg,br:br,small:small,ol:ol,dl:dl,dt:dt,dd:dd,fieldset:fieldset,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS}),window.SynactJS=SynactJS,Object.assign(window,{SynactJS:SynactJS}),document.addEventListener("DOMContentLoaded",()=>{mountComponents()}),window.addEventListener("beforeunload",()=>{for(const e of contextMap.values())cleanupEffects(e);contextMap.clear()}),SynactJS.define=function(e,t){if(!customElements.get(e)){class o extends HTMLElement{static get observedAttributes(){return[]}constructor(){super(),this.attachShadow({mode:"open"}),this._props={}}connectedCallback(){this._updatePropsFromAttributes(),renderApp(()=>h(t,this._props),this.shadowRoot)}attributeChangedCallback(e,o,n){o!==n&&(this._props[e]=tryJSON(n),renderApp(()=>h(t,this._props),this.shadowRoot))}setProps(e){Object.assign(this._props,e),renderApp(()=>h(t,this._props),this.shadowRoot)}_updatePropsFromAttributes(){for(const e of this.attributes)this._props[e.name]=tryJSON(e.value)}}customElements.define(e,o)}}}"undefined"!=typeof module&&module.exports&&(module.exports={h:h,useState:useState,useEffect:useEffect,useContext:useContext,useMemo:useMemo,useCallback:useCallback,createContext:createContext,renderApp:renderApp,RouteView:RouteView,Fragment:Fragment,useRouter:useRouter,div:div,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,p:p,button:button,strong:strong,span:span,ul:ul,li:li,input:input,form:form,label:label,a:a,nav:nav,createElement:createElement,setProps:setProps,updateProps:updateProps,patch:patch,SynactJS:SynactJS});